<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- CSS Section -->
    <link rel="stylesheet" href="./Content/game.css">
    <title>Intergalactic Guardian Force I</title>
</head>
<body>
    <!-- CANVAS -->
    <table class="body">
        <tr>
            <td class="over-panel" colspan="3">
                <img src="Assets/images/ui/logo.png" style="height: 95%;">
            </td>
        </tr>
        <tr>
            <td class="side-panel">
                <h4>Important Information</h4>
                <button class="cheatCodes" onclick="ShowModal('storyModal')">Read Story</button>
                <button class="cheatCodes" onclick="ShowModal('instructionModal')">Read Instructions</button>
                <button class="cheatCodes" onclick="ShowModal('powerupsModal')" id="showStory">Power Ups</button>
                <button class="cheatCodes" onclick="ShowModal('cheatCodeModal')" id="showStory">Cheat Codes</button>
                <button class="cheatCodes" onclick="ShowModal('creditsModal')" id="showStory">Credits</button>
            </td>
            <td class="game-panel"><canvas id="canvas" width="640" height="480"></canvas></td>
            <td class="side-panel">
                <h4>Controls (P1)</h4>
                <table class="info">
                    <tr>
                        <td class="right-space">UP</td>
                        <td>Forward</td>
                    </tr>
                    <tr>
                        <td class="right-space">DOWN</td>
                        <td>Backward</td>
                    </tr>
                    <tr>
                        <td class="right-space">LEFT</td>
                        <td>Turn Left</td>
                    </tr>
                    <tr>
                        <td class="right-space">RIGHT</td>
                        <td>Turn Right</td>
                    </tr>
                    <tr>
                        <td class="right-space">SPACE</td>
                        <td>Shoot</td>
                    </tr>
                </table>

                <h4>Controls (P2)</h4>
                <table class="info">
                    <tr>
                        <td class="right-space">W</td>
                        <td>Forward</td>
                    </tr>
                    <tr>
                        <td class="right-space">A</td>
                        <td>Backward</td>
                    </tr>
                    <tr>
                        <td class="right-space">S</td>
                        <td>Turn Left</td>
                    </tr>
                    <tr>
                        <td class="right-space">D</td>
                        <td>Turn Right</td>
                    </tr>
                    <tr>
                        <td class="right-space">LSHIFT</td>
                        <td>Shoot</td>
                    </tr>
                </table>

                <h4>Controls (Shared)</h4>
                <table class="info">
                    <tr>
                        <td class="right-space">CLICK</td>
                        <td>Grenade</td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td class="over-panel" colspan="3">
                <sub>Copyright &copy; 2020. MACK Address Games.<br>All rights reserved.</sub>
                <br>
                <button type="button" class="collapsible">Cheat Codes</button>
                <div class="content">
                    <input id="cheatCode" type="text" class="cheatCodes" placeholder="Enter Cheat Code...">
                    <button id="cheatCodeButton" class="cheatCodes">Apply Code</button>
                    <p style="margin: 0px;" id="cheatCodeFeedback"></p>
                </div> 
            </td>
        </tr>
    </table>

    <audio id="levelsSound" loop>
        <source src="./Assets/sound/background/levels.mp3" type="audio/mpeg">
    </audio>
    <audio id="menuSound" loop>
        <source src="./Assets/sound/background/menu.mp3" type="audio/mpeg">
    </audio>

    <div id="storyModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
          <span class="close">&times;</span>
          <h4>Story</h4>
          <p>
            In the year 2049, man has colonized Mars in response to over-population on Earth. <br>
            Everything was peaceful and good. Then in 2058, the invasion happened. <br>
            Aliens from a planet from a distant galaxy came and attacked the colony. <br>
            With the planet being mostly free of weapons, the human colonists could not defend themselves.<br>&nbsp;<br>
            In response to this attack, the Intergalactic Guardian Force (IGF) was formed. <br>
            Their sole purpose is to defend humanity from the extra-terrestrial. <br>
            As the only survivor with a military background, you and your comrade have been tasked with reclaiming the base for humanity. <br>
            If you fail here, the invasion will progress to Earth too. This could put humans, and every other creature on planet Earth as extinct!<br>&nbsp;<br>
            You and your partner must make it from the armoury to the airlock door and outside where you must destroy the queen. <br>
            By destroying the queen, no more enemies can be created, and the invasion will have failed! 
          </p>
        </div>
      
      </div>

      <!-- The Modal -->
<div id="instructionModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <h4>Instructions</h4>
      <p>
          The player can progress to the next level simply by reaching the end of said level.<br>
          The player reaches the end of the level by walking (moving) towards the top of the screen.<br>
          At the end of each level, there is a boss (level 1 & 2 are weaker bosses, and level 3 is the final boss).<br>
          Once the boss is defeated, the player may progress.<br>&nbsp;<br>
          Along your journey, you will also need to kill off any aliens who roam the halls of the colony.<br>&nbsp;<br>
          You will also encounter civilians scattered through the remains of the colony.<br>
          Walk up to a civilian to rescue them, and you will be rewarded with points!<br>
          If a civilian is killed (touched) by an enemy, however, the civilian will die, and you will loose points.
        </p>
    </div>
  
  </div>

  <div id="creditsModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <h4>Credits</h4>
      <p>
            Made by MACK Address Games (2020)<br>&nbsp;<br>
            All art and sound assets created by: Christopher Palazzolo<br>
            The explosion image was created by Sogomn (<a href="https://opengameart.org/content/explosion-3">OpenGameArt.org</a>)<br>&nbsp;<br>
            Special Thanks To Our Testers:<br>
            - Victoria R.<br>&nbsp;<br>
            <sub>Copyright &copy; 2020. MACK Address Games.<br>All rights reserved. Do not distribute.</sub>
        </p>
    </div>
  
  </div>

  <div id="powerupsModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <h4>Power Ups</h4>
      <table>
          <tr>
              <td><img src="./Assets/images/ui/grenade.png" class="powerup-image"></td>
              <th>Grenade</th>
              <td>Adds a grenade to the player's total grenade pool</td>
          </tr>
          <tr>
            <td><img src="./Assets/images/ui/front.png" class="powerup-image"></td>
            <th>+1 Life</th>
            <td>Adds a life to the player's total life pool</td>
        </tr>
        <tr>
            <td><img src="./Assets/images/bullet/piercing_powerup.png" class="powerup-image"></td>
            <th>Piercing Bullets</th>
            <td>Allows bullets to pass through an enemy and hit enemies behind it. This ability can stack. Each item earned incruments the number of enemies which it can pass through.</td>
        </tr>
        <tr>
            <td><img src="./Assets/images/environment/super_hero.png" class="powerup-image"></td>
            <th>Super Hero</th>
            <td>Enables "Super Hero Mode". This ability lasts 10s, and makes you invincible to minions. While enabled, a particle trail will follow you.</td>
        </tr>
      </table>
    </div>
  
  </div>

  
  <div id="cheatCodeModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <h4>Cheat Code Command Reference</h4>
      <table>
          <tr>
              <td class="code">spawn &lt;segway|powerup|enemy&gt; [x] [y] [id]</td>
              <td>Spawns the specified item at the specified location. Use <i>id</i> to specify which item to spawn</td>
          </tr>
          <tr>
            <td class="code">set &lt;grenades|lives|score&gt; &lt;value&gt;</td>
            <td>Sets the specified item to the specified value</td>
        </tr>
        <tr>
            <td class="code">level &lt;1|2|3&gt;</td>
            <td>Moves the player to the specified level</td>
        </tr>
        <tr>
            <td class="code">help</td>
            <td>Displays a list of commands</td>
        </tr>
      </table>
    </div>
  
  </div>

    <script>
        var coll = document.getElementsByClassName("collapsible");
        var i;
        
        for (i = 0; i < coll.length; i++) {
          coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.display === "block") {
              content.style.display = "none";
            } else {
              content.style.display = "block";
            }
          });
        }
        </script>

        <script>
            function ShowModal(id){
                let modal = document.getElementById(id);
                let span = document.getElementsByClassName("close");

                modal.style.display = "block";

                for (let i = 0; i < span.length; i++) {
                    span[i].onclick = function() {
                        modal.style.display = "none";
                    }
                    
                }               

                window.onclick = function(event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                    }
                }

            }
        </script>
    <!-- SCRIPTS -->
    <!-- 3RD PARTY LIBRARIES -->
    <script src="./node_modules/easeljs/lib/easeljs.min.js"></script>
    <script src="./node_modules/tweenjs/lib/tweenjs.min.js"></script>
    <script src="./node_modules/soundjs/lib/soundjs.min.js"></script>
    <script src="./node_modules/preloadjs/lib/preloadjs.min.js"></script>

    <!-- GAME SCRIPTS -->
    <script src="./Scripts/config/game.js"></script>
    
    <script src="./Scripts/objects/Vector2.js"></script>
    <script src="./Scripts/objects/GameObject.js"></script>

    <!-- Managers -->
    <script src="./Scripts/managers/collision.js"></script>
    
    <!-- Game Objects-->
    <script src="./Scripts/objects/Bullet.js"></script>
    <script src="./Scripts/objects/Player.js"></script>
    <script src="./Scripts/objects/Enemy.js"></script>
    <script src="./Scripts/objects/Label.js"></script>
    <script src="./Scripts/objects/Button.js"></script>
    <script src="./Scripts/objects/Rectangle.js"></script>
    <script src="./Scripts/objects/GrenadeManager.js"></script>
    <script src="./Scripts/objects/Explosion.js"></script>
    <script src="./Scripts/objects/PlayerLivesDisplayManager.js"></script>
    <script src="./Scripts/objects/Powerup.js"></script>
    <script src="./Scripts/objects/SubBoss.js"></script>
    <script src="./Scripts/objects/BulletSlime.js"></script>
    <script src="./Scripts/objects/Segway.js"></script>
    <script src="./Scripts/objects/Civilian.js"></script>
    <script src="./Scripts/objects/Box.js"></script>
    <script src="./Scripts/objects/Boss.js"></script>
    <script src="./Scripts/objects/TrailManager.js"></script>
    <script src="./Scripts/objects/Trail.js"></script>
    

    <!-- Scenes -->
    <script src="./Scripts/scenes/State.js"></script>
    <script src="./Scripts/objects/Scene.js"></script>
    <script src="./Scripts/scenes/End.js"></script>
    <script src="./Scripts/scenes/Start.js"></script>
    <script src="./Scripts/scenes/Quote.js"></script>
    <script src="./Scripts/scenes/LevelParent.js"></script>
    <script src="./Scripts/scenes/Level1.js"></script>
    <script src="./Scripts/scenes/Level2.js"></script>
    <script src="./Scripts/scenes/Level3.js"></script>
    <script src="./Scripts/scenes/Loose.js"></script>
    <script src="./Scripts/scenes/SelectCharacter.js"></script>

    <script src="./Scripts/game.js"></script>
</body>
</html>
